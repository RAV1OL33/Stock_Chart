<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.4.0/chart.min.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>-->
<link rel="stylesheet" href="style.css">
<script src="script.js" defer></script>
<title> Stock Charts</title>

<body>
  <table id="selected_stocks_table">
    <thead>
      <tr>
        <th style="width:5%"></th>
        <th style="width: 10%; text-align: end; padding-right: 2px;"></th>
        <th></th>
        <th>Company name</th>
        <th>Years paying</th>
        <th>Div Yield</th>
        <th>DGR 5Y</th>
      </tr>
    </thead>
    <tbody id='stocks_container'></tbody>
  </table>

  <div class="_stocks_stat">
    <div class="">
      <span id="stocks_array_legth"></span>
      <span id="stocks_counter"></span>
    </div>
    <div class="_select">
      <span class="">Показать: </span>
      <div class="_variant" onclick="SelectArrayLength(this)">20</div>
      <div class="_variant" onclick="SelectArrayLength(this)">50</div>
      <div class="_variant _active" onclick="SelectArrayLength(this)">Все</div>
    </div>
  </div>
  <div class="_filter">
    <div class="">
      <div class="">Поиск по названию:</div>
      <input type="text">
    </div>
    <div class="">
      <div class="">Фильтровать по:</div>
      <div class="">
        <input type="button" value="Выплачиваемые дивиденды" onclick="sortTable('current_dividend_procent', 1)">
        <input type="button" value="Показатель роста дивидендов" onclick="sortTable('div_grow', 1)">
        <input type="button" value="Сбросить" onclick="sortTable()">
      </div>
    </div>

  </div>
  <div class="">
    <table id="stocks_table">
      <thead>
        <tr>
          <th style="width: 2%"></th>
          <th style="width: 5%; text-align: end; padding-right: 2px;"></th>
          <th style="width: 6%"></th>
          <th style="width: 45%">Company name</th>
          <th style="width: 10%">Years paying</th>
          <th style="width: 10%">Div Yield</th>
          <th style="width: 10%">DGR 5Y</th>
        </tr>
      </thead>
    </table>
  </div>
  <hr>
  <div class="_container">
    <div class=""><input type="button" value="Построить графики" onclick="DrawSelectedStocks()"></div>
    <div class=""><label for="calc_range"> Срок прогнозирования</label>
      <select id="calc_range_select" name="calc_range" onchange="updateCharts()">
        <option value="5" selected>Пять лет</option>
        <option value="10">Десять лет</option>
        <option value="15">Пятнадцать лет</option>
        <option value="20">Двадцать лет</option>
        <option value="25">Двадцать пять лет</option>
        <option value="30">Тридцать лет</option>
      </select>
    </div>
    <div class=""><input type="button" value="Настройка графика ≡" onclick="DrawSelectedStocks()"></div>
  </div>

  <hr>

  <div class="_container">
    <div class="_column">
      <div class="">
        <label for="start_capital"> Стартовый капитал</label>
        <input id="capital_input" name="start_capital" type="number" value="1000" oninput="updateCharts()">
      </div>
      <div class="">
        <label for="replenishment_period"> Частота пополнений капитала</label>
        <select name="replenishment_period" id="replenishment_period_select" onchange="updateCharts()">
          <option value="1" selected>Каждый месяц</option>
          <option value="2">Каждые два месяца</option>
          <option value="3">Каждые три месяца</option>
          <option value="4">Каждые четыре месяца</option>
          <option value="6">Каждые полгода</option>
          <option value="12">Каждый год</option>
        </select>
      </div>
      <div class="">
        <label for="replenishment_value"> Сумма пополнений</label>
        <input id="replenishment_value_input" name="replenishment_value" value="100" type="number" oninput="updateCharts()" min="0">
      </div>
      <div class="">
        <label for="payment_period"> Период выплат дивидендов</label>
        <select name="payment_period" id="payment_period_select" onchange="updateCharts()">
          <option value="1">Каждый месяц</option>
          <option value="2">Каждые два месяца</option>
          <option value="3" selected>Каждые три месяца</option>
          <option value="4">Каждые четыре месяца</option>
          <option value="6">Каждые полгода</option>
          <option value="12">Каждый год</option>
        </select>
      </div>
    </div>
    <div class="_column">
      <div class="">
        <label for="tax_value"> Процент налогов</label>
        <input id="tax_value" name="tax_value" class="_3_digit_input" type="number" oninput="updateCharts()" value="13" max="100">
      </div>
      <div class="">
        <label for="inflation_value"> Процент инфляции</label>
        <input id="inflation_value" name="inflation_value" class="_3_digit_input" type="number" oninput="updateCharts()" value="2.2" max="100">
      </div>
      <div class=""><label for="deposit">Реинвестировать дивиденды?</label>
        <input type="checkbox" name="deposit" id="deposit" oninput="updateCharts()" checked>
      </div>
      <div class=""><label for="is_tax">Показывать с вычетом налогов?</label>
        <input type="checkbox" name="is_tax" id="is_tax" oninput="updateCharts()" checked>
      </div>
    </div>
  </div>

  <!--
<div class="">Процент дивидендной доходности 
  <span id="start_dividend_procent">5</span>%</div>
-->

  <hr>
  <div class="" style="width: 100%; margin-top: 25px;">
    <canvas id="capital_chart" width="" height=""></canvas>
  </div>
  <div class="" style="width: 100%; margin-top: 25px;">
    <span>Сумма накопленных дивидендов за указанный период</span>
    <canvas id="dividend_chart" width="" height=""></canvas>
  </div>
  <div class="" style="width: 100%; margin-top: 25px;">
    <span>Рост % дивидентов за указанный период</span>
    <canvas id="procent_chart" width="" height=""></canvas>
  </div>
</body>
